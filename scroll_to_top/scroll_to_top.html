<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <title></title>
    <script type="text/javascript" src="../libs/jquery/jquery-1.9.1.min.js"></script>

</head>
<body>
    <div>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <div style="height: 7500px;">
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
        </div>
    </div>

</body>
<script type="text/javascript">


    var scroll_toTop = function (h_scroll) {
        this.initialize(h_scroll);
    };
    scroll_toTop.prototype = {
        initialize:function(h_scroll){
            h_scroll ? this.height = h_scroll : this.height = 400;
            this.animateWanChen = false;

            this.creatDiv();
            this.scroll_evt(this.div,this.height);
        },
        creatDiv:function(){
            var oDiv = document.createElement("div");
            oDiv.setAttribute("id","div_scroll");
            oDiv.setAttribute("style","opacity: 0; filter:alpha(opacity=0); width: 40px; height: 40px; background: url(scroll_to_top.png) 0 0 no-repeat; position:fixed; right: 50px; bottom: 100px; cursor : pointer;");
            document.getElementsByTagName("body")[0].appendChild(oDiv);
            var _animate = this.animate;
            oDiv.onclick = function(){
                _animate(this,"scrollToTop");
            }
            oDiv.onmouseover = function(){
                this.style.background = "url(over_scroll_to_top.png) 0 0 no-repeat";
            }
            oDiv.onmouseout = function(){
                this.style.background = "url(scroll_to_top.png) 0 0 no-repeat";
            }
            this.div = oDiv;
        },
        scroll_evt:function(div,h_scroll){
            var _animate = this.animate;
           var _animateWanChen =  this.animateWanChen;
            var _flag_fade = false;
            window.onscroll = function(){
                var _scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
                if(_scrollTop > h_scroll){
                    if (!_flag_fade){
                        _animate(div,"fadeIn",_animateWanChen);
                        _flag_fade = true;
                    }
                } else {
                    if (_flag_fade){
                        _animate(div,"fadeOut",_animateWanChen);
                        _flag_fade = false;
                    }
                }

            }
        },
        animate:function(elem,type){
            switch(type){
               case "fadeIn":
                   var timer_fadeIn = setInterval(animate_fadeIn,100);
                   var num_fadeIn = 0;
                    function animate_fadeIn(){
                        if (num_fadeIn>10){
                           clearInterval(timer_fadeIn);
                       } else {
                            elem.style.opacity = num_fadeIn / 10;
                            if(!+[1,]){
                                elem.style.filter = "alpha(opacity=" + num_fadeIn*10 + ")";
                            }
                            num_fadeIn++;
                        }
                    }
               break;
               case "fadeOut":
                   var timer_fadeOut  = setInterval(animate_fadeOut,100);
                   var num_fadeOut = 10;
                    function animate_fadeOut(){
                       if (num_fadeOut<0){
                           clearInterval(timer_fadeOut);
                       } else {
                           elem.style.opacity = num_fadeOut / 10;
                           if(!+[1,]){
                               elem.style.filter = "alpha(opacity=" + num_fadeIn*10 + ")";
                           }
                           num_fadeOut--;
                       }
                    }

               break;
               case "scrollToTop":
                   var timer_scrollToTop = setInterval(animate_scrollToTop,100);
                   function animate_scrollToTop(){
                       var num_scrollToTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
                       num_scrollToTop = num_scrollToTop - num_scrollToTop * 0.3;
                       if (num_scrollToTop<=0){
                          clearInterval(timer_scrollToTop);
                       } else {
                           if(document.documentElement.scrollTop){
                               document.documentElement.scrollTop = num_scrollToTop;
                           } else {
                               document.body.scrollTop = num_scrollToTop;
                           }
                       }
                   }
               break;
           }

        }


    }

    window.onload =   new scroll_toTop(600);


</script>
</html>